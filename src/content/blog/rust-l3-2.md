---
title: 基础类型
pubDatetime: 2024-09-30T10:30:00+08:00
author: shushunie
slug: rust-l3-2
description: ""
---

# 整型

类型比较多，详情见下表

| 大小       | 有符号         | 无符号 |
| :--------- | :------------- | :----- |
| 8 位       | i8（字节默认） | u8     |
| 16 位      | i16            | u16    |
| 32 位      | i32（默认）    | u32    |
| 64 位      | i64            | u64    |
| 128 位     | i128           | u128   |
| 视架构而定 | isize          | usize  |

| 数字字面量 | 示例                           |
| :--------- | :----------------------------- |
| 十进制     | 98_222（下划线仅用于辅助阅读） |
| 十六进制   | 0xff                           |
| 八进制     | 0o77                           |
| 二进制     | 0b1111_0000                    |
| 字节       | (仅限于 u8)b'A'                |

# 浮点型

`f32` 和 `f64` 表示小数点的数字，分别占 32 位和 64 位。默认类型是 `f64`，因为在现代 CPU 中，它与 `f32` 速度几乎一样，不过精度更高。

### 精度问题

Rust 的浮点数实现是和 JavaScript 是一样的，在 JavaScript 上遇到的精度问题在 Rust 同样也能遇到。

### NAN

数学上未定义的结果，和 JavaScript 中的 NAN 相同。可以使用 is_nan 函数来判断。

# 布尔

`bool` ，值可以是 true 或 false，占用一个字节内存。

# 字符

`char`，Rust 的字符不仅仅是 ASCII，所有的 Unicode 值都可以作为 Rust 字符，包括单个的中文、日文、韩文、emoji 表情符号等等，都是合法的字符类型。

由于 Unicode 都是 4 个字节编码，因此字符类型也是占用 4 个字节。

# 序列

Rust 提供了一个非常简洁的方式，用来生成连续的数值，例如 `1..5`，生成从 1 到 4 的连续数字，不包含 5；`1..=5`，生成从 1 到 5 的连续数字，包含 5，它的用途很简单，常常用于循环中。

除了使用数字外，也适用于字母，比如 `'a'..='z'`。

# 类型强制转换

在 Rust 中，as 关键字用于在原始类型（如 i64、f64、u64、char 等）之间进行类型转换。

as 关键字并不适用于复合类型，比如 String 或其他用户定义的类型。对于复合类型的转换，通常需要使用其他方法或函数。

```rust
let i = 5;
let f = i as f32;
```
