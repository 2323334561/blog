---
title: 基础类型
pubDatetime: 2024-09-30T10:30:00+08:00
author: shushunie
slug: rust-l3-2
description: ""
---

# 整型

类型比较多，详情见下表

| 大小       | 有符号         | 无符号 |
| :--------- | :------------- | :----- |
| 8 位       | i8（字节默认） | u8     |
| 16 位      | i16            | u16    |
| 32 位      | i32（默认）    | u32    |
| 64 位      | i64            | u64    |
| 128 位     | i128           | u128   |
| 视架构而定 | isize          | usize  |

| 数字字面量 | 示例                           |
| :--------- | :----------------------------- |
| 十进制     | 98_222（下划线仅用于辅助阅读） |
| 十六进制   | 0xff                           |
| 八进制     | 0o77                           |
| 二进制     | 0b1111_0000                    |
| 字节       | (仅限于 u8)b'A'                |

# 浮点型

`f32` 和 `f64` 表示小数点的数字，分别占 32 位和 64 位。默认类型是 `f64`，因为在现代 CPU 中，它与 `f32` 速度几乎一样，不过精度更高

### 精度问题

rust 的浮点数实现是和 js 是一样的，在 js 上遇到的精度问题在 rust 同样也能遇到

[简单聊聊Rust和JavaScript同时存在的精度问题 - 因卓诶-爱分享爱原创Blog](https://www.yinzhuoei.com/index.php/archives/776/)

### NAN

数学上未定义的结果，和 js 中的 NAN 相同。可以使用 is_nan 函数来判断

# 布尔

`bool` ，值可以是 ture 或 false，占用一个字节内存

# 字符

`char`，Rust 的字符不仅仅是 [ASCII](https://app.capacities.io/fcb41f3d-eb26-439e-860c-4d11e4be6bfb/3cbd78b1-7290-413f-936a-34c91f89f8ee)，所有的 [Unicode](https://app.capacities.io/fcb41f3d-eb26-439e-860c-4d11e4be6bfb/1fae72be-4487-467e-ae73-c12c80c82532) 值都可以作为 Rust 字符，包括单个的中文、日文、韩文、emoji 表情符号等等，都是合法的字符类型

由于 Unicode 都是4个字节编码，因此字符类型也是占用 4个字节

# 序列

rust 提供了一个非常简洁的方式，用来生成连续的数值，例如 `1..5`，生成从 1 到 4 的连续数字，不包含5；`1..=5`，生成从 1 到 5 的连续数字，包含 5，它的用途很简单，常常用于循环中

除了使用数字外，也适用于字母，比如 `'a'..='z'`

# 类型强制转换

在Rust中，as关键字用于在原始类型（如i64、f64、u64、 char等）之间进行类型转换

as关键字并不适用于复合类型，比如String或其他用户定义的类型。对于复合类型的转换，通常需要使用其他方法或函数

```rust
let i = 5;
let f = i as f32
```
